---
layout: post
category: tech
---

# 跨域的详细介绍

由于最近准备春招看到跨域的问题还是比较多的，打算深入学习一下写个专题。

# 目录

- [同源策略](#同源策略)
- [CORS](#cors)

---

# [同源策略](#同源策略)

- [MDN文档-同源策略](https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy#%E5%90%8C%E6%BA%90%E7%9A%84%E5%AE%9A%E4%B9%89)

同源的定义非常简单，通俗的说，就是主机、端口和协议都是一样的。需要注意的是IE浏览器没有将端口作为判定是否同源的一部分。

源的继承按照MDN文档叙述：
> 在页面中通过 about:blank 或 javascript: URL 执行的脚本会继承打开该 URL 的文档的源，因为这些类型的 URLs 没有包含源服务器的相关信息。

但是经我测试在chrome（版本：89.0.4389.90）中使用windows.open()打开about:blank并不会继承源。

测试网页的源：
![测试网页的源](/img/BMHzcfROMXaSo7JC.png)

调用windows.open(about:blank)后网页的源：
![about:blank的源](/img/kUK2uDBMLC52p3b0.png)

调用windows.open(/about:blank)会报错。

有趣的是在设置博客图片地址的时候，第一次显示不出来，发生了跨域的问题：
![图片显示不出来](/img/j3kRkSNWeNL0vm7q.png)
![发生了跨域问题](/img/PXO7SAQqAw06rsrU.png)

之前按照一个网上教程先将图片传到github上然后引用绝对地址，但是这样会产生跨域问题；事实上只要引用一个相对地址就可以了。

