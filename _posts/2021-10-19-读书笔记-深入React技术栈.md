---
layout: post
category: star
title: 读书笔记:深入 React 技术栈
---

书籍名称：

深入 React 技术栈

---

## 目录

- [序言](#序言)
- [初入 React 世界](#初入-react-世界)

---

## 序言

React 平衡了函数式编程的约束与工程师的实用主义。

- React 将 DOM 当成纯函数。
- React 强调不可变性和单向数据流。

---

## 初入 React 世界

React 并不是完整的 MVC/MVVM 框架，提供清晰、简洁的 View（视图）层解决方案。

### 1.2 JSX 语法

在实际开发中，JSX 在产品打包阶段都已经编译成纯 JavaScript......现在已全部采用 Babel 的 JSX 编译器实现......而 Babel 作为专门的 JavaScript 语法编译工具，提供了更为强大的功能，达到了“一处配置、统一运行”的目的。

#### 1.2.2 JSX 基本语法

- JSX 在定义标签时，只允许被一个标签包裹，原因是需要转译成对应的 React.createElement 调用方法，如果没有包裹，就无法转译成方法调用。
- 标签需要闭合，HTML 中规定的自闭合标签在 JSX 中遵循同样规则，自定义标签可以根据是否有子组件或文本来决定闭合方式。

JSX 中小写首字母对应 DOM 元素，而大写字母对应组件元素。

JSX 还是 JavaScript，依然可以使用简单的方法使用注释，但是在组件的子元素的位置使用注释要用大括号包起来：

```jsx
const App = (
	<Nav>
  	{/*节点注释*/}
    <Person
      /*多行
      	注释*/
      name={window.isLoggedIn ? window.name : ''}
     />
  </Nav>
)
```

DOCTYPE 头一般会在使用 React 作为服务端渲染时用到，在 HTML 中，DOCTYPE 是没有闭合的，无法在 JSX 渲染它。

常见的做法是构造一个保存 HTML 的变量，将 DOCTYPE 与整个 HTML 标签渲染后的结果串联起来。

JSX 属性有一些特殊的规则：

- DOM 元素属性中 class 属性改为 className
- DOM 元素属性中 for 属性改为 htmlFor
- 省略 Boolean 属性值会导致 JSX 认为设置为 true
- 可以使用 ES6 rest 特性来传递参数：

```javascript
const data = {name:'foo', value:'bar'}
const component = <Component {...data} />
```

- 在 JSX 中往 DOM 元素传入自定义属性，React 不会渲染，要使用 HTML 自定义属性，和 HTML 标准一致，要使用 data- 前缀

### 1.3 React 组件

#### 1.3.2 React 组件的构成

React 组件即为组件元素。组件元素被描述为纯粹的 JSON 对象，意味着可以使用方法或者类来构建。

React 组件基本上由三个部分组成——属性、状态、以及生命周期方法。

![react组件的组成](../img/2021-10-19-读书笔记-深入React技术栈/react组件的组成.png)

