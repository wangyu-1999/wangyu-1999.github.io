---
layout: post
category: tech
---

最近因为毕业设计的项目需要一个远程检查，所以老师让我把毕业设计部署到服务器上，然后让我联系一个买了阿里云服务器的学长，学长的阿里云上已经有docker了，所以记录一下将项目用docker部署到阿里云上的过程：

---

# 目录
- [ssh连接](#ssh连接)
- [neo4j数据库](#neo4j数据库)

---

# [ssh连接](#ssh连接)

ssh连接主要使用的是Xshell的教育版，官网的下载地址是这个：

[Xshell官网下载地址](#https://www.netsarang.com/zh/free-for-home-school/)

教程主要参考的下面这个，由于我的账户密码是学长给的，所以参考的就是后半部分的连接部分：

[Xshell教程](#https://zhuanlan.zhihu.com/p/54643053)

按照教程连接对应的主机时，会要求输入对应的账户名和密码，同时分配账户的人还可以设置各个账户的权限，我发现我这个账户就没有root权限。

![Xshell的身份验证](/img/20210421/xshell的身份验证.png)

---

# [neo4j数据库](#neo4j数据库)

neo4j数据库为了保证兼容性，达到和在自己电脑上一致的运行效果，首先查看自己电脑上neo4j的版本信息：

![neo4j版本信息](/img/20210421/neo4j版本.png)

然后参考这两篇博客部署neo4j：

[docker安装部署neo4j](https://www.cnblogs.com/caoyusang/p/13610408.html)

[Centos下Docker中运行neo4j 并配置挂载本地文件](https://www.cnblogs.com/baiyunwanglai/p/10281694.html)

首先使用

>docker pull neo4j:[对应版本号]

的命令下载对应的neo4j版本：

![下载neo4j对应版本](/img/20210421/下载对应neo4j版本.png)

然后输入对应的语句配置和启动neo4j:

![配置和启动neo4j](/img/20210421/neo4j配置和启动.png)

	docker run -d --name container_name \  //-d表示容器后台运行 --name指定容器名字
	-p 7474:7474 -p 7687:7687 \  //映射容器的端口号到宿主机的端口号
	-v /home/neo4j/data:/data \  //把容器内的数据目录挂载到宿主机的对应目录下
	-v /home/neo4j/logs:/logs \  //挂载日志目录
	-v /home/neo4j/conf:/var/lib/neo4j/conf   //挂载配置目录
	-v /home/neo4j/import:/var/lib/neo4j/import \  //挂载数据导入目录
	--env NEO4J_AUTH=neo4j/password \  //设定数据库的名字的访问密码
	neo4j:version //指定使用的镜像对应版本号

最后通过客户端的浏览器查看访问对应端口验证是否设置成功：

![浏览器验证neo4j](/img/20210421/验证neo4j.png)

